// ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã«åŸºã¥ã„ã¦ä¸€è²«ã—ãŸçµµæ–‡å­—ã‚’ç”Ÿæˆã™ã‚‹ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

// ä½¿ç”¨ã™ã‚‹çµµæ–‡å­—ãƒªã‚¹ãƒˆ
const profileEmojis = [
  'ğŸ‘¨', 'ğŸ‘©', 'ğŸ‘¦', 'ğŸ‘§', 'ğŸ‘´', 'ğŸ‘µ', 'ğŸ§‘', 
  'ğŸ‘±', 'ğŸ‘¨â€ğŸ¦°', 'ğŸ‘©â€ğŸ¦°', 'ğŸ‘¨â€ğŸ¦±', 'ğŸ‘©â€ğŸ¦±', 'ğŸ‘¨â€ğŸ¦³', 'ğŸ‘©â€ğŸ¦³',
  'ğŸ‘¨â€ğŸ¦²', 'ğŸ‘©â€ğŸ¦²', 'ğŸ§”', 'ğŸ‘²', 'ğŸ‘³', 'ğŸ‘®', 'ğŸ‘·', 'ğŸ’‚',
  'ğŸ•µï¸', 'ğŸ‘©â€âš•ï¸', 'ğŸ‘¨â€âš•ï¸', 'ğŸ‘©â€ğŸŒ¾', 'ğŸ‘¨â€ğŸŒ¾', 'ğŸ‘©â€ğŸ³', 'ğŸ‘¨â€ğŸ³',
  'ğŸ‘©â€ğŸ“', 'ğŸ‘¨â€ğŸ“', 'ğŸ‘©â€ğŸ¤', 'ğŸ‘¨â€ğŸ¤', 'ğŸ‘©â€ğŸ«', 'ğŸ‘¨â€ğŸ«', 'ğŸ‘©â€ğŸ­',
  'ğŸ‘¨â€ğŸ­', 'ğŸ‘©â€ğŸ’»', 'ğŸ‘¨â€ğŸ’»', 'ğŸ‘©â€ğŸ’¼', 'ğŸ‘¨â€ğŸ’¼', 'ğŸ‘©â€ğŸ”§', 'ğŸ‘¨â€ğŸ”§',
  'ğŸ‘©â€ğŸ”¬', 'ğŸ‘¨â€ğŸ”¬', 'ğŸ‘©â€ğŸ¨', 'ğŸ‘¨â€ğŸ¨', 'ğŸ‘©â€ğŸš’', 'ğŸ‘¨â€ğŸš’', 'ğŸ‘©â€âœˆï¸',
  'ğŸ‘¨â€âœˆï¸', 'ğŸ‘©â€ğŸš€', 'ğŸ‘¨â€ğŸš€', 'ğŸ‘¼', 'ğŸ¦¸', 'ğŸ¦¹', 'ğŸ§™', 'ğŸ§š',
  'ğŸ§›', 'ğŸ§œ', 'ğŸ§', 'ğŸ§', 'ğŸ§Ÿ', 'ğŸ’†', 'ğŸ’‡', 'ğŸš¶', 'ğŸ§'
];

// ã‚«ãƒ©ãƒ•ãƒ«ãªå‹•ç‰©çµµæ–‡å­—ã®ãƒªã‚¹ãƒˆ
const animalEmojis = [
  'ğŸ¶', 'ğŸ±', 'ğŸ­', 'ğŸ¹', 'ğŸ°', 'ğŸ¦Š', 'ğŸ»', 'ğŸ¼', 'ğŸ¨',
  'ğŸ¯', 'ğŸ¦', 'ğŸ®', 'ğŸ·', 'ğŸ¸', 'ğŸµ', 'ğŸ”', 'ğŸ§', 'ğŸ¦',
  'ğŸ¦†', 'ğŸ¦…', 'ğŸ¦‰', 'ğŸ¦‡', 'ğŸº', 'ğŸ—', 'ğŸ´', 'ğŸ¦„', 'ğŸ',
  'ğŸ›', 'ğŸ¦‹', 'ğŸŒ', 'ğŸ', 'ğŸœ', 'ğŸ¦—', 'ğŸ•·ï¸', 'ğŸ¦‚', 'ğŸ¦Ÿ',
  'ğŸ¦ ', 'ğŸ¢', 'ğŸ', 'ğŸ¦', 'ğŸ¦–', 'ğŸ¦•', 'ğŸ™', 'ğŸ¦‘', 'ğŸ¦',
  'ğŸ¦', 'ğŸ¦€', 'ğŸ¡', 'ğŸ ', 'ğŸŸ', 'ğŸ¬', 'ğŸ³', 'ğŸ‹', 'ğŸ¦ˆ',
  'ğŸŠ', 'ğŸ…', 'ğŸ†', 'ğŸ¦“', 'ğŸ¦', 'ğŸ¦§', 'ğŸ˜', 'ğŸ¦›', 'ğŸ¦',
  'ğŸª', 'ğŸ«', 'ğŸ¦’', 'ğŸ¦˜', 'ğŸƒ', 'ğŸ‚', 'ğŸ„', 'ğŸ', 'ğŸ–',
  'ğŸ', 'ğŸ‘', 'ğŸ¦™', 'ğŸ', 'ğŸ¦Œ'
];

// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®çµµæ–‡å­—ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŒãƒãƒƒãƒã—ãªã„å ´åˆï¼‰
export const DEFAULT_USER_EMOJI = 'ğŸ‘¤';

/**
 * ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã«åŸºã¥ã„ã¦ä¸€è²«ã—ãŸçµµæ–‡å­—ã‚’ç”Ÿæˆã™ã‚‹
 * @param userId ãƒ¦ãƒ¼ã‚¶ãƒ¼ID
 * @param useAnimals å‹•ç‰©çµµæ–‡å­—ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã©ã†ã‹
 * @returns çµµæ–‡å­—
 */
export const getUserEmoji = (userId: string, useAnimals: boolean = false): string => {
  if (!userId) return DEFAULT_USER_EMOJI;

  // ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‹ã‚‰ãƒãƒƒã‚·ãƒ¥å€¤ã‚’ç”Ÿæˆï¼ˆç°¡æ˜“çš„ãªå®Ÿè£…ï¼‰
  let hash = 0;
  for (let i = 0; i < userId.length; i++) {
    hash = ((hash << 5) - hash) + userId.charCodeAt(i);
    hash |= 0; // 32ãƒ“ãƒƒãƒˆæ•´æ•°ã«å¤‰æ›
  }

  // çµ¶å¯¾å€¤ã‚’å–ã‚‹
  hash = Math.abs(hash);

  // ä½¿ç”¨ã™ã‚‹çµµæ–‡å­—ãƒªã‚¹ãƒˆã‚’é¸æŠ
  const emojiList = useAnimals ? animalEmojis : profileEmojis;
  
  // ãƒãƒƒã‚·ãƒ¥å€¤ã‚’çµµæ–‡å­—ãƒªã‚¹ãƒˆã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«å¤‰æ›
  const index = hash % emojiList.length;
  
  return emojiList[index];
};

/**
 * ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æœ€åˆã®æ–‡å­—ã¨çµµæ–‡å­—ã‚’çµ„ã¿åˆã‚ã›ãŸè¡¨ç¤ºç”¨æ–‡å­—åˆ—ã‚’ç”Ÿæˆ
 * @param name ãƒ¦ãƒ¼ã‚¶ãƒ¼å
 * @param emoji ãƒ¦ãƒ¼ã‚¶ãƒ¼çµµæ–‡å­—
 * @returns è¡¨ç¤ºç”¨æ–‡å­—åˆ—
 */
export const getUserDisplayEmoji = (name: string, emoji: string): string => {
  if (!name) return emoji;
  
  // åå‰ã®æœ€åˆã®æ–‡å­—ã‚’å–å¾—
  const firstChar = name.charAt(0);
  
  return `${emoji}`;
}; 